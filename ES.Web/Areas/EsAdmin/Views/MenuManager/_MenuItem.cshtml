@model MenuItemViewModel

@using System.Globalization
@using ES.Web.Areas.EsAdmin.Models
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

<li class="dd-item" data-id="@Model.Id">
    <div class="dd-handle">
        <div class="d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
                <input type="checkbox" class="menu-item-checkbox me-2" id="checkbox-@Model.Id" />
                <label for="checkbox-@Model.Id" class="form-check-label me-2">
                    @Model.Title (@Localizer[@Model.Type])
                </label>
                <span class="badge bg-@(Model.IsPublished ? "success" : "danger") ms-2">
                    @(Model.IsPublished ? Localizer["Published"] : Localizer["Not Published"])
                </span>
            </div>

            <div class="d-flex align-items-center gap-2">
                <!-- Edit Button -->
                <button type="button" class="btn btn-sm btn-outline-warning d-flex align-items-center justify-content-center edit-menu-item-btn" data-id="@Model.Id" title=@Localizer["Edit Menu Item"]>
                    <i class="lni lni-pencil fs-5"></i>
                </button>

                <!-- Translation Button -->
                <a asp-controller="MenuItemTranslates" asp-action="Index" asp-route-menuItemId="@Model.Id" class="btn btn-sm btn-outline-info d-flex align-items-center justify-content-center menu-item-translations-btn" title=@Localizer["Manage Translations"]>
                    <i class="lni lni-world fs-5"></i>
                </a>
            </div>
        </div>
    </div>

    @if (Model.Children != null && Model.Children.Any())
    {
        <ol class="dd-list">
            @foreach (var child in Model.Children)
            {
                @Html.Partial("_MenuItem", child)
            }
        </ol>
    }
</li>
